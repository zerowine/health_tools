<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>周期健身精准导航</title>
    <style>
        :root {
            --bg-color: #F4F6F8;
            --card-bg: #FFFFFF;
            --text-main: #2D3436;
            --text-sub: #636E72;
            --color-menses: #D63031;
            --color-follicle: #16A085;
            --color-ovulation: #E67E22;
            --color-luteal: #6C5CE7;
            --carb: #3498DB;
            --protein: #FF7675;
            --fat: #F39C12;
        }

        body {
            font-family: "PingFang SC", sans-serif;
            background-color: var(--bg-color);
            margin: 0; padding: 0;
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* 头部及表单区 */
        header {
            background-color: #1A1A1A;
            color: white;
            padding: 50px 20px;
            text-align: center;
        }

        header h1 { margin: 0; font-size: 26px; letter-spacing: 2px; }
        header p { margin: 12px 0 30px; color: #BBB; font-size: 15px; }

        .input-form {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 15px;
            display: inline-flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: flex-end;
            backdrop-filter: blur(10px);
        }

        .input-item { display: flex; flex-direction: column; align-items: flex-start; }
        .input-item label { font-size: 12px; margin-bottom: 8px; color: #999; }
        
        input {
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #444;
            background: #222;
            color: white;
            font-size: 14px;
            outline: none;
        }
        input:focus { border-color: #00B894; }

        button {
            padding: 12px 35px;
            border-radius: 8px;
            border: none;
            background-color: #00B894;
            color: white;
            font-weight: bold;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        button:hover { background-color: #00D1A7; transform: translateY(-2px); }

        /* 动态结果容器 */
        #result-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 40px 20px;
        }

        /* 卡片基础样式 - 默认隐藏 */
        .phase-card {
            display: none; 
            width: 100%;
            max-width: 540px;
            background: var(--card-bg);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            animation: slideUp 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* 卡片内部组件 */
        .card-header { padding: 35px 20px 25px; text-align: center; }
        .card-header h2 { margin: 0; font-size: 28px; }
        .card-header p { margin: 10px 0 0; font-size: 15px; opacity: 0.9; }
        
        .card-body { padding: 30px 35px 15px; }
        .stats-item { font-size: 15px; margin-bottom: 8px; display: block; }
        .stars { color: #F1C40F; letter-spacing: 2px; }

        .module-box { margin: 0 25px 20px; padding: 22px; border-radius: 18px; }
        .module-title { font-weight: bold; font-size: 17px; margin-bottom: 12px; display: flex; justify-content: space-between; }
        
        .training p { margin: 5px 0; font-size: 15px; }
        .advice { font-style: italic; color: var(--text-sub); font-size: 14px; margin-top: 10px; }

        .nutrition { background: #F9F9FB; margin-bottom: 40px; }
        .macro-bar { width: 100%; height: 8px; background: #EEE; border-radius: 4px; display: flex; margin: 15px 0; overflow: hidden; }
        .macro-segment { height: 100%; border-radius: 4px; }
        
        .mini-legend { font-size: 11px; color: #999; display: flex; gap: 12px; }
        .legend-dot { display: inline-block; width: 8px; height: 8px; border-radius: 2px; margin-right: 4px; }
        
        .diet-detail { font-size: 15px; font-weight: bold; margin-top: 15px; }
        .diet-note { font-size: 14px; color: var(--text-sub); margin-top: 5px; }

        /* 阶段特定色 */
        .menses .card-header { background: #FFE5E5; color: var(--color-menses); }
        .menses .training { background: #FFF2F2; }
        
        .follicle .card-header { background: #E3F9F1; color: var(--color-follicle); }
        .follicle .training { background: #EBFEEF; }
        
        .ovulation .card-header { background: #FFF4E5; color: var(--color-ovulation); }
        .ovulation .training { background: #FFF9F0; }
        
        .luteal .card-header { background: #EFEDFF; color: var(--color-luteal); }
        .luteal .training { background: #F4F2FF; }

        footer { text-align: center; padding: 30px; color: #999; font-size: 13px; }
    </style>
</head>
<body>

<header>
    <h1>周期健身精准导航</h1>
    <p>输入生理数据，获取当前的动态调整方案</p>
    
    <div class="input-form">
        <div class="input-item">
            <label>末次月经起始日</label>
            <input type="date" id="lastStart">
        </div>
        <div class="input-item">
            <label>平均周期长度 (天)</label>
            <input type="number" id="cycleLen" value="28" min="20" max="45">
        </div>
        <button onclick="updateDisplay()">生成方案</button>
    </div>
</header>

<div id="result-container">
    <div style="color: #BBB; text-align: center; margin-top: 50px;" id="placeholder-text">
        <p>请在上方输入日期并点击生成</p>
    </div>
</div>

<footer>—— 了解身体信号，掌握代谢红利 ——</footer>

<template id="tpl-menses">
    <div class="phase-card menses" style="display:block">
        <div class="card-header"><h2>月经期 (休整)</h2><p>出血开始 | 雌/孕激素双低</p></div>
        <div class="card-body">
            <span class="stats-item"><strong>代谢特征：</strong>炎症修复模式，身体更新</span>
            <span class="stats-item"><strong>代谢速度：</strong><span class="stars">★</span> (全月最低点)</span>
            <span class="stats-item"><strong>增肌效果：</strong><span class="stars">★</span></span>
            <span class="stats-item"><strong>减脂效果：</strong><span class="stars">★</span></span>
        </div>
        <div class="module-box training">
            <div class="module-title" style="color: var(--color-menses);">训练规划</div>
            <p>类型：散步、阴瑜伽、动态拉伸</p>
            <p>强度：★ (极低)</p>
            <p class="advice">建议：休整为主，避免高强度腹压动作</p>
        </div>
        <div class="module-box nutrition">
            <div class="module-title">营养策略
                <div class="mini-legend"><span><i class="legend-dot" style="background:var(--carb)"></i>碳</span><span><i class="legend-dot" style="background:var(--protein)"></i>蛋</span><span><i class="legend-dot" style="background:var(--fat)"></i>脂</span></div>
            </div>
            <div class="macro-bar">
                <div style="width: 45%; background: var(--carb);" class="macro-segment"></div>
                <div style="width: 25%; background: var(--protein);" class="macro-segment"></div>
                <div style="width: 30%; background: var(--fat);" class="macro-segment"></div>
            </div>
            <div class="diet-detail">重点：补铁(红肉/血)、抗炎食补</div>
            <div class="diet-note">注意：中等碳水，维持血糖与情绪稳定</div>
        </div>
    </div>
</template>

<template id="tpl-follicle">
    <div class="phase-card follicle" style="display:block">
        <div class="card-header"><h2>卵泡期 (增肌)</h2><p>白带稀薄 | 雌激素上升</p></div>
        <div class="card-body">
            <span class="stats-item"><strong>代谢特征：</strong>糖代谢极强，碳水利用率高</span>
            <span class="stats-item"><strong>代谢速度：</strong><span class="stars">★★★</span> (平稳上升)</span>
            <span class="stats-item"><strong>增肌效果：</strong><span class="stars">★★★★★</span></span>
            <span class="stats-item"><strong>减脂效果：</strong><span class="stars">★★★</span></span>
        </div>
        <div class="module-box training">
            <div class="module-title" style="color: var(--color-follicle);">训练规划</div>
            <p>类型：重力量挑战、HIIT</p>
            <p>强度：★★★★★ (极高)</p>
            <p class="advice">建议：趁体力好冲击大重量，修复快</p>
        </div>
        <div class="module-box nutrition">
            <div class="module-title">营养策略
                <div class="mini-legend"><span><i class="legend-dot" style="background:var(--carb)"></i>碳</span><span><i class="legend-dot" style="background:var(--protein)"></i>蛋</span><span><i class="legend-dot" style="background:var(--fat)"></i>脂</span></div>
            </div>
            <div class="macro-bar">
                <div style="width: 60%; background: var(--carb);" class="macro-segment"></div>
                <div style="width: 25%; background: var(--protein);" class="macro-segment"></div>
                <div style="width: 15%; background: var(--fat);" class="macro-segment"></div>
            </div>
            <div class="diet-detail">重点：高碳水循环，全力供能</div>
            <div class="diet-note">注意：吃够优质主食，此时最不易长肉</div>
        </div>
    </div>
</template>

<template id="tpl-ovulation">
    <div class="phase-card ovulation" style="display:block">
        <div class="card-header"><h2>排卵期 (巅峰)</h2><p>蛋清样拉丝 | 雌/LH峰值</p></div>
        <div class="card-body">
            <span class="stats-item"><strong>代谢特征：</strong>能量爆发期，灵活性极佳</span>
            <span class="stats-item"><strong>代谢速度：</strong><span class="stars">★★★★</span> (高位运行)</span>
            <span class="stats-item"><strong>增肌效果：</strong><span class="stars">★★★★★</span></span>
            <span class="stats-item"><strong>减脂效果：</strong><span class="stars">★★★</span></span>
        </div>
        <div class="module-box training">
            <div class="module-title" style="color: var(--color-ovulation);">训练规划</div>
            <p>类型：全身力量、抗阻冲顶</p>
            <p>强度：★★★★★ (巅峰)</p>
            <p class="advice">建议：力量最强，但需注意韧带关节保护</p>
        </div>
        <div class="module-box nutrition">
            <div class="module-title">营养策略
                <div class="mini-legend"><span><i class="legend-dot" style="background:var(--carb)"></i>碳</span><span><i class="legend-dot" style="background:var(--protein)"></i>蛋</span><span><i class="legend-dot" style="background:var(--fat)"></i>脂</span></div>
            </div>
            <div class="macro-bar">
                <div style="width: 50%; background: var(--carb);" class="macro-segment"></div>
                <div style="width: 25%; background: var(--protein);" class="macro-segment"></div>
                <div style="width: 25%; background: var(--fat);" class="macro-segment"></div>
            </div>
            <div class="diet-detail">重点：平衡饮食，增加纤维摄入</div>
            <div class="diet-note">注意：多吃蔬菜，支持雌激素自然代谢</div>
        </div>
    </div>
</template>

<template id="tpl-luteal">
    <div class="phase-card luteal" style="display:block">
        <div class="card-header"><h2>黄体期 (刷脂)</h2><p>体温升高 | 孕激素主导</p></div>
        <div class="card-body">
            <span class="stats-item"><strong>代谢特征：</strong>脂代谢强，燃脂效率最高</span>
            <span class="stats-item"><strong>代谢速度：</strong><span class="stars">★★★★★</span> (静息最高)</span>
            <span class="stats-item"><strong>增肌效果：</strong><span class="stars">★★</span></span>
            <span class="stats-item"><strong>减脂效果：</strong><span class="stars">★★★★★</span></span>
        </div>
        <div class="module-box training">
            <div class="module-title" style="color: var(--color-luteal);">训练规划</div>
            <p>类型：稳态有氧、循环耐力</p>
            <p>强度：★★★ (中等)</p>
            <p class="advice">建议：心率易高，主打燃脂时长而非强度</p>
        </div>
        <div class="module-box nutrition">
            <div class="module-title">营养策略
                <div class="mini-legend"><span><i class="legend-dot" style="background:var(--carb)"></i>碳</span><span><i class="legend-dot" style="background:var(--protein)"></i>蛋</span><span><i class="legend-dot" style="background:var(--fat)"></i>脂</span></div>
            </div>
            <div class="macro-bar">
                <div style="width: 25%; background: var(--carb);" class="macro-segment"></div>
                <div style="width: 35%; background: var(--protein);" class="macro-segment"></div>
                <div style="width: 40%; background: var(--fat);" class="macro-segment"></div>
            </div>
            <div class="diet-detail">重点：低碳高蛋白，保肌刷脂</div>
            <div class="diet-note">注意：摄入优质脂肪，控糖是防胖核心</div>
        </div>
    </div>
</template>

<script>
    function updateDisplay() {
        const lastDateVal = document.getElementById('lastStart').value;
        const cycleLen = parseInt(document.getElementById('cycleLen').value);
        const container = document.getElementById('result-container');
        
        if (!lastDateVal) {
            alert("请选择日期");
            return;
        }

        const today = new Date();
        const start = new Date(lastDateVal);
        const diffDays = Math.floor((today - start) / (1000 * 60 * 60 * 24));
        
        if (diffDays < 0) {
            alert("日期不能晚于今天");
            return;
        }

        const dayInCycle = (diffDays % cycleLen) + 1;
        let templateId = "";

        // 逻辑判断
        if (dayInCycle <= 5) {
            templateId = "tpl-menses";
        } else if (dayInCycle <= (cycleLen - 17)) {
            templateId = "tpl-follicle";
        } else if (dayInCycle <= (cycleLen - 13)) {
            templateId = "tpl-ovulation";
        } else {
            templateId = "tpl-luteal";
        }

        // 清空容器并注入新内容
        container.innerHTML = "";
        const template = document.getElementById(templateId);
        const clone = template.content.cloneNode(true);
        container.appendChild(clone);

        // 提示当前天数
        const dayInfo = document.createElement('div');
        dayInfo.style.cssText = "position:absolute; top: -30px; left:0; right:0; text-align:center; color:#00B894; font-weight:bold;";
        dayInfo.innerText = `今天是周期的第 ${dayInCycle} 天`;
        container.firstChild.style.position = "relative";
        container.firstChild.appendChild(dayInfo);
    }
</script>

</body>
</html>